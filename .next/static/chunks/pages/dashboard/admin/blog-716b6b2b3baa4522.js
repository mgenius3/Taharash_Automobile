(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1266:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/admin/blog",function(){return n(3700)}])},3700:function(e,t,n){"use strict";n.r(t);var r=n(7568),s=n(4051),c=n.n(s),o=n(5893),i=n(7294),l=n(6857),a=n(4642),d=n(7893),u=n(2920),h=(n(993),n(5063)),p=n.n(h),x=n(1163);t.default=function(){var e=(0,x.useRouter)(),t=(0,i.useState)(),n=t[0],s=t[1],h=(0,i.useState)((function(){return localStorage.getItem("token")}))[0],f=new a.Z("/blog",h);(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("");case 2:t=e.sent.response,console.log(t),t?s(t):u.Am.error("unable to fetch data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var m=function(){var t=(0,r.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.delete("/".concat(n));case 2:t.sent.response?(u.Am.success("successfully deleted"),e.reload()):u.Am.error("unable to delete, try again");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,o.jsx)(l.Z,{children:(0,o.jsxs)("div",{className:"container mt-5",children:[(0,o.jsxs)("span",{className:"d-flex align-items-end justify-content-between mb-3",children:[(0,o.jsx)("h1",{className:"text-center mb-0 ",style:{fontSize:"30px"},children:"ALL BLOGS"}),(0,o.jsx)(p(),{href:"/dashboard/admin/blog/upload",children:(0,o.jsxs)("button",{className:"btn text-right text-white",children:["Add Blog"," ",(0,o.jsx)("img",{src:"https://img.icons8.com/ios/50/add.png",className:"icon"})]})})]}),(0,o.jsxs)("table",{className:"table table-striped",children:[(0,o.jsx)("thead",{className:"thead-dark text-white",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",style:{color:"white"},children:"Topic"}),(0,o.jsx)("th",{scope:"col",style:{color:"white"},children:"Description"}),(0,o.jsx)("th",{scope:"col",style:{color:"white"},children:"Date Created"}),(0,o.jsx)("th",{scope:"col",style:{color:"white"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)(p(),{href:"/blog/".concat(null===e||void 0===e?void 0:e.id),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("td",{style:{cursor:"pointer"},children:(0,d.S)(e.name,20)}),(0,o.jsx)("td",{style:{cursor:"pointer"},children:(0,d.S)(null===e||void 0===e?void 0:e.description,40)}),(0,o.jsx)("td",{style:{cursor:"pointer"},children:new Date(e.created_at).toLocaleDateString()})]})}),(0,o.jsx)("td",{style:{cursor:"pointer"},children:(0,o.jsx)("button",{style:{cursor:"pointer",color:"white",backgroundColor:"red",textAlign:"center",borderRadius:"7px"},onClick:function(){return m(null===e||void 0===e?void 0:e.id)},children:"delete"})})]},t)})}))})]})]})})}}},function(e){e.O(0,[714,82,427,857,774,888,179],(function(){return t=1266,e(e.s=t);var t}));var t=e.O();_N_E=t}]);