"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{6857:function(e,n,r){var s=r(7568),t=r(4051),o=r.n(t),i=r(5893),c=r(7294),a=r(5063),u=r.n(a),l=r(1163),h=r(7893),d=r(6245),p=r(5387),m=r(5985),x=r(9008),f=r.n(x),g=r(2920),j=(r(993),r(4642));n.Z=function(e){var n=e.children,r=(0,c.useState)(null),t=r[0],a=r[1],x=(0,c.useState)((function(){return localStorage.getItem("token")}))[0],v=new j.Z("/admin",x),b=(0,c.useState)(),k=b[0],y=b[1],w=(0,c.useRef)(),E=(0,l.useRouter)();return(0,c.useEffect)((function(){try{var e=(0,d.Z)(x);y(e)}catch(n){console.log(n)}}),[x]),(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/all_contact_message");case 2:n=e.sent.response,a(null===n||void 0===n?void 0:n.length);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.jsxs)(c.Fragment,{children:[(0,i.jsxs)(f(),{children:[(0,i.jsx)("title",{children:"Admin - Kupon "}),(0,i.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),(0,i.jsx)("meta",{httpEquiv:"x-ua-compatible",content:"ie=edge"}),(0,i.jsx)("meta",{name:"description",content:"Get your automobile here for a good price"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"shortcut icon",href:"/images/tahicon.png"})]}),(0,i.jsx)(g.Ix,{position:"bottom-center"}),(0,i.jsx)(m.Z,{children:(0,i.jsxs)("main",{id:"account",children:[(0,i.jsxs)("aside",{ref:w,children:[(0,i.jsxs)("div",{className:"profile",children:[(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{style:{color:"white",backgroundColor:"black",borderRadius:"50%",padding:"3px"},children:(0,h.Q)(null===k||void 0===k?void 0:k.firstName,null===k||void 0===k?void 0:k.lastName)}),(0,i.jsxs)("p",{children:["Admin -"," ",(0,h.S)((null===k||void 0===k?void 0:k.firstName)+" "+(null===k||void 0===k?void 0:k.lastName),10)]})]}),(0,i.jsx)("img",{id:"cancel",src:"https://img.icons8.com/ios/50/FD7E14/cancel.png",onClick:function(){return w.current.classList.remove("menu")}})]}),(0,i.jsxs)("div",{className:"side_links",children:[(0,i.jsx)(u(),{href:"/",children:(0,i.jsxs)("span",{style:{cursor:"pointer"},children:[(0,i.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/FD7E14/home-page--v1.png",className:"icon"}),(0,i.jsx)("b",{children:"Home"})]})}),(0,i.jsx)("hr",{}),(0,i.jsx)(u(),{href:"/dashboard/admin/profile",children:(0,i.jsxs)("span",{style:{cursor:"pointer"},children:[(0,i.jsx)("img",{src:"https://img.icons8.com/material-outlined/24/FD7E14/user.png",className:"icon"}),(0,i.jsx)("b",{children:"My Profile"})]})}),(0,i.jsx)("hr",{}),(0,i.jsx)(u(),{href:"/dashboard/admin/user",children:(0,i.jsxs)("span",{style:{cursor:"pointer"},children:[(0,i.jsx)("img",{src:"https://img.icons8.com/stickers/100/null/user-skin-type-3.png",className:"icon"}),(0,i.jsx)("b",{children:"User"})]})}),(0,i.jsx)("hr",{}),(0,i.jsx)(u(),{href:"/dashboard/admin/blog",children:(0,i.jsxs)("span",{style:{cursor:"pointer"},children:[(0,i.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/FD7E14/book.png",className:"icon"}),(0,i.jsx)("b",{children:"Blog"})]})}),(0,i.jsx)("hr",{}),(0,i.jsx)(u(),{href:"/dashboard/admin/automobile",children:(0,i.jsxs)("span",{style:{cursor:"pointer"},children:[(0,i.jsx)("img",{className:"icon",src:"https://img.icons8.com/ios/50/automotive.png",alt:"automotive"}),(0,i.jsx)("b",{children:"Automobile"})]})}),(0,i.jsx)("hr",{}),(0,i.jsx)(u(),{href:"/dashboard/admin/messages",children:(0,i.jsxs)("span",{style:{cursor:"pointer"},children:[(0,i.jsx)("img",{src:"https://img.icons8.com/ios/50/messages-mac.png",className:"icon"}),(0,i.jsxs)("b",{children:["Messages(",t,")"]})]})}),(0,i.jsx)("hr",{}),(0,i.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){(0,p.Z)()&&E.push("/login")},children:[(0,i.jsx)("img",{src:"https://img.icons8.com/ios/50/FD7E14/logout-rounded--v1.png",className:"icon"}),(0,i.jsx)("b",{children:"Logout"})]})]})]}),(0,i.jsxs)("section",{className:"main_container",children:[(0,i.jsx)("header",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{id:"menu",src:"https://img.icons8.com/ios-filled/50/000000/menu--v1.png",onClick:function(){return w.current.classList.add("menu")}}),(0,i.jsx)("h3",{children:"Admin - Settings"}),(0,i.jsx)("p",{style:{opacity:"0.7"},children:"Manage your personal and organization settings"})]})}),(0,i.jsx)("article",{children:n})]})]})})]})}},4642:function(e,n,r){var s=r(7568),t=r(1438),o=r(2951),i=r(4051),c=r.n(i),a=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,t.Z)(this,e),this.baseURL=n,this.token=r}return(0,o.Z)(e,[{key:"get",value:function(e){var n=this;return(0,s.Z)(c().mark((function r(){var s,t,o;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("/serve"+n.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}});case 3:if((s=r.sent).ok){r.next=9;break}return r.next=7,s.json();case 7:throw t=r.sent,new Error(t.msg);case 9:return r.next=11,s.json();case 11:return o=r.sent,r.abrupt("return",{response:o.msg,error:null});case 15:return r.prev=15,r.t0=r.catch(0),r.abrupt("return",{response:null,error:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()}},{key:"post",value:function(e,n){var r=this;return(0,s.Z)(c().mark((function s(){var t,o,i;return c().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,fetch("/serve"+r.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},body:JSON.stringify(n)});case 3:if((t=s.sent).ok){s.next=9;break}return s.next=7,t.json();case 7:throw o=s.sent,new Error(o.msg);case 9:return s.next=11,t.json();case 11:return i=s.sent,s.abrupt("return",{response:i.msg,error:null});case 15:return s.prev=15,s.t0=s.catch(0),s.abrupt("return",{response:null,error:s.t0.message});case 18:case"end":return s.stop()}}),s,null,[[0,15]])})))()}},{key:"delete",value:function(e){var n=this;return(0,s.Z)(c().mark((function r(){var s,t,o;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("/serve"+n.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}});case 3:if((s=r.sent).ok){r.next=9;break}return r.next=7,s.json();case 7:throw t=r.sent,new Error(t.msg);case 9:return r.next=11,s.json();case 11:return o=r.sent,r.abrupt("return",{response:o.msg,error:null});case 15:return r.prev=15,r.t0=r.catch(0),r.abrupt("return",{response:null,error:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()}}]),e}();n.Z=a},5985:function(e,n,r){var s=r(5893),t=r(9704),o=r.n(t),i=r(1163),c=r(7294);n.Z=function(e){var n=e.children,r=(0,i.useRouter)();return(0,c.useEffect)((function(){var e=setTimeout((function(){var e=localStorage.getItem("token");try{o().verify(e,"taharish_automobile")}catch(n){console.log(n),r.push("/login")}}),0);return function(){return clearTimeout(e)}}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:n})})}},5387:function(e,n,r){function s(){return localStorage.clear(),!0}r.d(n,{Z:function(){return s}})},7893:function(e,n,r){function s(e,n){return(null===e||void 0===e?void 0:e.length)>n?e.slice(0,n-3)+"...":e}function t(e){var n=null===e||void 0===e?void 0:e.charAt(0);return void 0!=n?n:null}r.d(n,{Q:function(){return t},S:function(){return s}})}}]);