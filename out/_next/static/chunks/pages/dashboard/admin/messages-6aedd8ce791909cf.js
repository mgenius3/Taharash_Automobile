(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{9034:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/admin/messages",function(){return n(6533)}])},6533:function(e,t,n){"use strict";n.r(t);var r=n(7568),s=n(4051),o=n.n(s),a=n(5893),l=n(7294),i=n(6857),c=n(4642),d=n(2920),u=(n(993),n(1163)),h=n(6212),f=n(5005);t.default=function(){var e=(0,u.useRouter)(),t=(0,l.useState)(),n=t[0],s=t[1],m=(0,l.useState)((function(){return localStorage.getItem("token")}))[0],x=(0,l.useState)(!1),v=x[0],b=x[1],p=(0,l.useState)(),j=p[0],g=p[1],y=function(e){b(!0),g(e)},N=function(){return b(!1)},w=new c.Z("/admin",m);(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/all_contact_message");case 2:(t=e.sent.response)?s(t):d.Am.error("unable to fetch data");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Z=function(){var t=(0,r.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.delete("/contact_message/".concat(n));case 2:t.sent.response?(d.Am.success("message deleted successfully"),e.reload()):d.Am.error("unable to delete");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)("div",{className:"container mt-5",children:[(0,a.jsx)("h1",{className:"text-center mb-4 ",style:{fontSize:"30px"},children:"Messages"}),(0,a.jsxs)("table",{className:"table table-striped",children:[(0,a.jsx)("thead",{className:"thead-dark text-white",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",style:{color:"white"},children:"Name"}),(0,a.jsx)("th",{scope:"col",style:{color:"white"},children:"Email"}),(0,a.jsx)("th",{scope:"col",style:{color:"white"},children:"Date"})]})}),(0,a.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,a.jsxs)("tr",{style:{cursor:"pointer"},children:[(0,a.jsx)("td",{onClick:function(){return y(e)},children:e.fullName}),(0,a.jsx)("td",{onClick:function(){return y(e)},children:e.email}),(0,a.jsx)("td",{onClick:function(){return y(e)},children:new Date(e.created_at).toLocaleDateString()})]},t)}))})]})]}),(0,a.jsxs)(h.Z,{show:v,onHide:N,children:[(0,a.jsxs)(h.Z.Header,{closeButton:!0,children:[(0,a.jsx)(h.Z.Title,{style:{fontSize:"1.3rem",fontWeight:"bold",lineHeight:"1.5",color:"#3c171773"},children:"MESSAGES"}),(0,a.jsx)("br",{})]}),(0,a.jsx)(h.Z.Body,{children:(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{style:{fontSize:"1.3rem",fontWeight:"bold",lineHeight:"1.5"},children:(0,a.jsx)("h1",{children:null===j||void 0===j?void 0:j.message})})," ",(0,a.jsx)("br",{}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("td",{children:null===j||void 0===j?void 0:j.fullName})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Email"}),(0,a.jsx)("td",{children:null===j||void 0===j?void 0:j.email})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Telephone"}),(0,a.jsx)("td",{children:null===j||void 0===j?void 0:j.telephone})]})]}),(0,a.jsxs)("tfoot",{children:[(0,a.jsx)("th",{children:"Message Sent at"}),(0,a.jsx)("td",{children:new Date(null===j||void 0===j?void 0:j.created_at).toLocaleDateString()})]})]})}),(0,a.jsx)(h.Z.Footer,{className:"justify-content-start",children:(0,a.jsx)(f.Z,{variant:"danger",onClick:function(){Z(null===j||void 0===j?void 0:j.id),N()},style:{background:"red",color:"white"},children:"Delete"})}),(0,a.jsx)(h.Z.Footer,{children:(0,a.jsx)(f.Z,{variant:"secondary",onClick:N,children:"Close"})})]})]})}},5005:function(e,t,n){"use strict";var r=n(4184),s=n.n(r),o=n(7294),a=n(861),l=n(6792),i=n(5893);const c=o.forwardRef((({as:e,bsPrefix:t,variant:n="primary",size:r,active:o=!1,disabled:c=!1,className:d,...u},h)=>{const f=(0,l.vE)(t,"btn"),[m,{tagName:x}]=(0,a.FT)({tagName:e,disabled:c,...u}),v=x;return(0,i.jsx)(v,{...m,...u,ref:h,disabled:c,className:s()(d,f,o&&"active",n&&`${f}-${n}`,r&&`${f}-${r}`,u.href&&c&&"disabled")})}));c.displayName="Button",t.Z=c},6212:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r,s=n(4184),o=n.n(s),a=n(9351),l=n(3004),i=n(7216),c=n(99);function d(e){if((!r&&0!==r||e)&&l.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var u=n(2092),h=n(8146),f=n(5654),m=n(6852),x=n(4305),v=n(7294),b=n(4053),p=n(9673),j=n(1068),g=n(6611),y=(0,g.Z)("modal-body"),N=n(6467),w=n(6792),Z=n(5893);const E=v.forwardRef((({bsPrefix:e,className:t,contentClassName:n,centered:r,size:s,fullscreen:a,children:l,scrollable:i,...c},d)=>{const u=`${e=(0,w.vE)(e,"modal")}-dialog`,h="string"===typeof a?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return(0,Z.jsx)("div",{...c,ref:d,className:o()(u,t,s&&`${e}-${s}`,r&&`${u}-centered`,i&&`${u}-scrollable`,a&&h),children:(0,Z.jsx)("div",{className:o()(`${e}-content`,n),children:l})})}));E.displayName="ModalDialog";var k=E,S=(0,g.Z)("modal-footer"),C=n(703);const _=v.forwardRef((({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...s},a)=>(e=(0,w.vE)(e,"modal-header"),(0,Z.jsx)(C.Z,{ref:a,...s,className:o()(t,e),closeLabel:n,closeButton:r}))));_.displayName="ModalHeader";var D=_;const T=(0,n(9602).Z)("h4");var R=(0,g.Z)("modal-title",{Component:T});function $(e){return(0,Z.jsx)(j.Z,{...e,timeout:null})}function F(e){return(0,Z.jsx)(j.Z,{...e,timeout:null})}const H=v.forwardRef((({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:s,children:j,dialogAs:g=k,"aria-labelledby":y,"aria-describedby":E,"aria-label":S,show:C=!1,animation:_=!0,backdrop:D=!0,keyboard:T=!0,onEscapeKeyDown:R,onShow:H,onHide:A,container:O,autoFocus:M=!0,enforceFocus:P=!0,restoreFocus:z=!0,restoreFocusOptions:B,onEntered:I,onExit:L,onExiting:W,onEnter:K,onEntering:U,onExited:X,backdropClassName:G,manager:q,...J},Q)=>{const[V,Y]=(0,v.useState)({}),[ee,te]=(0,v.useState)(!1),ne=(0,v.useRef)(!1),re=(0,v.useRef)(!1),se=(0,v.useRef)(null),[oe,ae]=(0,u.Z)(),le=(0,f.Z)(Q,ae),ie=(0,h.Z)(A),ce=(0,w.SC)();e=(0,w.vE)(e,"modal");const de=(0,v.useMemo)((()=>({onHide:ie})),[ie]);function ue(){return q||(0,p.t)({isRTL:ce})}function he(e){if(!l.Z)return;const t=ue().getScrollbarWidth()>0,n=e.scrollHeight>(0,i.Z)(e).documentElement.clientHeight;Y({paddingRight:t&&!n?d():void 0,paddingLeft:!t&&n?d():void 0})}const fe=(0,h.Z)((()=>{oe&&he(oe.dialog)}));(0,m.Z)((()=>{(0,c.Z)(window,"resize",fe),null==se.current||se.current()}));const me=()=>{ne.current=!0},xe=e=>{ne.current&&oe&&e.target===oe.dialog&&(re.current=!0),ne.current=!1},ve=()=>{te(!0),se.current=(0,x.Z)(oe.dialog,(()=>{te(!1)}))},be=e=>{"static"!==D?re.current||e.target!==e.currentTarget?re.current=!1:null==A||A():(e=>{e.target===e.currentTarget&&ve()})(e)},pe=(0,v.useCallback)((t=>(0,Z.jsx)("div",{...t,className:o()(`${e}-backdrop`,G,!_&&"show")})),[_,G,e]),je={...n,...V};je.display="block";return(0,Z.jsx)(N.Z.Provider,{value:de,children:(0,Z.jsx)(b.Z,{show:C,ref:le,backdrop:D,container:O,keyboard:!0,autoFocus:M,enforceFocus:P,restoreFocus:z,restoreFocusOptions:B,onEscapeKeyDown:e=>{T?null==R||R(e):(e.preventDefault(),"static"===D&&ve())},onShow:H,onHide:A,onEnter:(e,t)=>{e&&he(e),null==K||K(e,t)},onEntering:(e,t)=>{null==U||U(e,t),(0,a.ZP)(window,"resize",fe)},onEntered:I,onExit:e=>{null==se.current||se.current(),null==L||L(e)},onExiting:W,onExited:e=>{e&&(e.style.display=""),null==X||X(e),(0,c.Z)(window,"resize",fe)},manager:ue(),transition:_?$:void 0,backdropTransition:_?F:void 0,renderBackdrop:pe,renderDialog:n=>(0,Z.jsx)("div",{role:"dialog",...n,style:je,className:o()(t,e,ee&&`${e}-static`,!_&&"show"),onClick:D?be:void 0,onMouseUp:xe,"aria-label":S,"aria-labelledby":y,"aria-describedby":E,children:(0,Z.jsx)(g,{...J,onMouseDown:me,className:r,contentClassName:s,children:j})})})})}));H.displayName="Modal";var A=Object.assign(H,{Body:y,Header:D,Title:R,Footer:S,Dialog:k,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}},function(e){e.O(0,[714,82,160,427,857,774,888,179],(function(){return t=9034,e(e.s=t);var t}));var t=e.O();_N_E=t}]);