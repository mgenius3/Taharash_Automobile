(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{1549:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/admin/automobile/upload",function(){return s(3464)}])},9268:function(e,r,s){"use strict";var i=s(5893);s(7294);r.Z=function(){return(0,i.jsx)("div",{className:"loading-overlay",children:(0,i.jsx)("div",{className:"loading-spinner",children:(0,i.jsx)("div",{className:"spinner"})})})}},3464:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return y}});var i=s(7568),l=s(4924),n=s(6042),a=s(9396),t=s(4051),o=s.n(t),c=s(5893),d=s(7294),u=s(6857),m=s(7536),h=s(2920),p=(s(993),s(8060)),x=s(9268),f=s(1163),g=["Sedan","SUV","Hatchback","Convertible","Coupe","Minivan","Pickup Truck","Sports Car","Luxury","Electric"],j=["Steel","Aluminum","Plastic","Carbon Fiber","Glass","Rubber","Leather","Fabric","Wood","Chrome"],v=["Brand New","Used","Manufacturer Refurbished","Seller Refurbished"],b=[2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],N=s(4642);function y(){var e=(0,f.useRouter)(),r=(0,d.useState)({}),s=r[0],t=r[1],y=(0,d.useState)([]),w=y[0],C=y[1],S=(0,d.useState)(),F=S[0],q=S[1],k=(0,d.useState)(),R=k[0],_=k[1],Z=(0,d.useState)((function(){return localStorage.getItem("token")}))[0],A=new N.Z("/automobile",Z);(0,d.useEffect)((function(){h.Am.error(F),t((0,a.Z)((0,n.Z)({},s),(0,l.Z)({},"files",JSON.stringify(w))))}),[w]);var E=(0,m.cI)().handleSubmit,P=function(e){t((0,a.Z)((0,n.Z)({},s),(0,l.Z)({},e.target.name,e.target.value)))},U=function(){var r=(0,i.Z)(o().mark((function r(){var i,l,n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.post("",s);case 2:i=r.sent,l=i.response,n=i.error,l?(_(!1),h.Am.success("successfully posted"),e.push("/dashboard/admin/automobile")):(_(!1),h.Am.error(n));case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,c.jsx)(u.Z,{children:(0,c.jsxs)("div",{id:"page-content",style:{margin:"50px 0px"},children:[(0,c.jsx)("div",{className:"page section-header text-center",children:(0,c.jsx)("div",{className:"page-title",children:(0,c.jsx)("div",{className:"wrapper",children:(0,c.jsxs)("h1",{className:"page-width",style:{fontWeight:"bolder",fontSize:"20px"},children:[" ","Add Automobile"]})})})}),(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 mb-3",children:(0,c.jsx)("div",{className:"customer-box returning-customer",children:(0,c.jsx)("div",{id:"customer-login",className:"collapse customer-content"})})})}),(0,c.jsx)("div",{className:"row billing-fields",children:(0,c.jsx)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 sm-margin-30px-bottom",children:(0,c.jsx)("div",{className:"create-ac-content bg-light-gray padding-20px-all",children:(0,c.jsxs)("form",{onSubmit:E(U),children:[(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("h2",{className:"login-title mb-3",children:"Automobile Details"}),(0,c.jsx)(p.Z,{setFileUploadError:q,setImageUrl:C,maxImages:3,maxSizes:5242880})]}),(0,c.jsx)("hr",{}),(0,c.jsx)("br",{}),(0,c.jsxs)("fieldset",{children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsxs)("label",{htmlFor:"type",children:["Automobile type",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsxs)("select",{name:"type",id:"type",required:!0,onChange:P,children:[(0,c.jsx)("option",{disabled:!0,selected:!0,children:"--- Please Select ---"}),(0,c.jsx)("option",{value:"car",children:"Car"}),(0,c.jsx)("option",{value:"part",children:"Car Parts"})]})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsxs)("label",{htmlFor:"input-model",children:["Name ",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsx)("input",{name:"name",id:"input-model",type:"text",required:!0,onChange:P})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsxs)("label",{htmlFor:"input-model",children:["Manufacturer ",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsx)("input",{name:"manufacturer",id:"input-model",type:"text",required:!0,onChange:P})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsx)("label",{htmlFor:"input-model",children:"Model"}),(0,c.jsx)("input",{name:"model",id:"input-model",type:"text",onChange:P})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsxs)("label",{htmlFor:"year_of_manufacture",children:["Year of Manufacturer"," "]}),(0,c.jsxs)("select",{name:"year_of_manufacture",id:"year_of_manufacture",onChange:P,children:[(0,c.jsxs)("option",{disabled:!0,selected:!0,children:[" ","--- Please Select ---"," "]}),null===b||void 0===b?void 0:b.map((function(e,r){return(0,c.jsx)("option",{value:e,children:e},r)}))]})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsxs)("label",{htmlFor:"category",children:["Category ",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsxs)("select",{name:"category",id:"category",required:!0,onChange:P,children:[(0,c.jsxs)("option",{disabled:!0,selected:!0,children:[" ","--- Please Select ---"," "]}),null===g||void 0===g?void 0:g.map((function(e,r){return(0,c.jsx)("option",{value:e,children:e},r)}))]})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsxs)("label",{htmlFor:"material",children:["Material ",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsxs)("select",{name:"material",id:"material",required:!0,onChange:P,children:[(0,c.jsxs)("option",{disabled:!0,selected:!0,children:[" ","--- Please Select ---"," "]}),null===j||void 0===j?void 0:j.map((function(e,r){return(0,c.jsx)("option",{value:e,children:e},r)}))]})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 col-lg-6 col-xl-6 required",children:[(0,c.jsxs)("label",{htmlFor:"condition",children:["Condition ",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsxs)("select",{name:"conditions",id:"conditions",required:!0,onChange:P,children:[(0,c.jsxs)("option",{disabled:!0,selected:!0,children:[" ","--- Please Select ---"," "]}),null===v||void 0===v?void 0:v.map((function(e,r){return(0,c.jsx)("option",{value:e,children:e},r)}))]})]}),(0,c.jsxs)("div",{className:"form-group col-md-12 col-lg-12 col-xl-12 required",children:[(0,c.jsxs)("label",{htmlFor:"input-city",children:["Price (\u20a6) ",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsx)("input",{name:"price",id:"input-city",type:"text",required:!0,onChange:P})]})]}),(0,c.jsx)("div",{className:"row"}),(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"form-group col-md-12 col-lg-12 col-xl-12",children:[(0,c.jsxs)("label",{htmlFor:"input-company",children:["Automobile Description"," ",(0,c.jsx)("span",{className:"required-f",children:"*"})]}),(0,c.jsx)("textarea",{className:"form-control resize-both",rows:"3",name:"description",onChange:P})]})})]}),(0,c.jsx)("div",{className:"order-button-payment",children:R?(0,c.jsx)(x.Z,{}):(0,c.jsx)("button",{className:"btn text-white",value:"Place order",type:"submit",children:"UPLOAD"})})]})})})})]})]})})}},8060:function(e,r,s){"use strict";var i=s(7568),l=s(6042),n=s(9396),a=s(4051),t=s.n(a),o=s(5893),c=s(7294),d=s(8901),u=s(923),m=s.n(u),h={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},p={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},x={display:"flex",minWidth:0,overflow:"hidden"},f={display:"block",width:"auto",height:"100%"},g={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},j={borderColor:"#2196f3"},v={borderColor:"#00e676"},b={borderColor:"#ff1744"};r.Z=function(e){var r=e.setFileUploadError,s=e.setImageUrl,a=e.maxImages,u=e.maxSizes,N=e.optionalFunction,y=void 0===N?null:N,w=(0,c.useState)(0),C=w[0],S=w[1],F=(0,c.useState)([]),q=F[0],k=F[1],R=(0,d.uI)({accept:{"image/*":[".jpeg",".png"]},maxFiles:a,maxSize:u,onDropRejected:function(e){var s,i=null===(s=e[0])||void 0===s?void 0:s.errors[0].code;r(i),S(-1)},onDrop:function(e){k(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));var r=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));U(r)}}),_=R.getRootProps,Z=R.getInputProps,A=R.isFocused,E=R.isDragAccept,P=R.isDragReject,U=function(){var e=(0,i.Z)(t().mark((function e(r){var i,l,n,a,o,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(S(1),i=new(m())({publicKey:"public_G1mBGH4ynRy46gzsggJdCguDRZA=",privateKey:"private_Df2/XKDIEaIDztFzQ+tAJVmKAOI=",urlEndpoint:"https://ik.imagekit.io/padeusnha"}),l=[],n=0;n<r.length;n++)a=r[n],o=i.upload({file:a,fileName:a.name}),l.push(o);return e.prev=4,e.next=7,Promise.all(l);case 7:c=e.sent,0!=(d=c.map((function(e){return e.url}))).length&&d?(S(2),s(d),null!=y&&y(d)):S(-1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error uploading images:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(r){return e.apply(this,arguments)}}(),D=q.map((function(e){return(0,o.jsx)("div",{style:p,children:(0,o.jsx)("div",{style:x,children:(0,o.jsx)("img",{src:e.preview,style:f,onLoad:function(){URL.revokeObjectURL(e.preview)}})})},e.name)}));(0,c.useEffect)((function(){return function(){return q.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[q]);var I=(0,c.useMemo)((function(){return(0,l.Z)({},g,A?j:{},E?v:{},P?b:{})}),[A,E,P]);return(0,o.jsxs)("section",{className:"container",children:[(0,o.jsxs)("div",(0,n.Z)((0,l.Z)({},_({style:I})),{children:[(0,o.jsx)("input",(0,l.Z)({},Z())),(0,o.jsxs)("p",{className:"text-center",children:["Drag 'n' drop some package image here,",(0,o.jsx)("br",{})," or click to upload iamge"]}),(0,o.jsx)("br",{}),(0,o.jsxs)("p",{className:"btn text-white",children:["UPLOAD IMAGE",(0,o.jsx)("img",{width:"32",height:"32",src:"https://img.icons8.com/windows/32/FFFFFF/file-upload.png",alt:"file-upload"})]})]})),(0,o.jsx)("aside",{style:h,children:D}),-1==C?(0,o.jsxs)("em",{children:[(0,o.jsx)("img",{width:"30",height:"30",src:"https://img.icons8.com/sf-black-filled/64/FA5252/error.png",alt:"checked--v1"})," ","error; try again"]}):1==C?(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsxs)("span",{className:"d-flex",children:[(0,o.jsx)("div",{className:"loading-container mr-3",children:(0,o.jsx)("div",{className:"loader"})}),(0,o.jsx)("b",{children:"uploading image, please wait"})]})]}):2==C?(0,o.jsxs)("em",{children:[(0,o.jsx)("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-filled/50/90EE90/checked--v1.png",alt:"checked--v1"})," ","uploaded ",(0,o.jsx)("br",{})]}):null]})}}},function(e){e.O(0,[714,662,82,427,536,280,857,774,888,179],(function(){return r=1549,e(e.s=r);var r}));var r=e.O();_N_E=r}]);