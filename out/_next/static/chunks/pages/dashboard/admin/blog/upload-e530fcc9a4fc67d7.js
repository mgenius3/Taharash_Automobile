(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{3705:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/admin/blog/upload",function(){return t(7513)}])},7513:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(7568),i=t(4924),o=t(6042),a=t(9396);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=t(4051),u=t.n(c),d=t(5893),p=t(7294),m=t(6857),h=t(8060),f=t(4642),g=t(2920),x=(t(993),t(1163)),b=function(){var e=(0,x.useRouter)(),n=(0,p.useState)((function(){return localStorage.getItem("token")}))[0],t=new f.Z("/blog",n),s=(0,p.useState)(""),c=s[0],b=s[1],j=(0,p.useState)(""),v=j[0],y=j[1],w=(0,p.useState)(!1),S=w[0],N=w[1],E=(0,p.useState)([1]),F=E[0],I=E[1],Z=(0,p.useState)([]),k=Z[0],C=Z[1],O=(0,p.useState)([{title:"",body:"",imageurl:""}]),A=O[0],R=O[1],U=(0,p.useState)([]),_=U[0],z=U[1],D=function(e){C((0,a.Z)((0,o.Z)({},k),(0,i.Z)({},e.target.name,e.target.value)))},L=function(e,n){z((0,a.Z)((0,o.Z)({},_),(0,i.Z)({},e,n)))},P=function(e,n,t){var r,s=void 0!==(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)?e.target.value:e;R((function(e){var r=l(e);return r[n]=(0,a.Z)((0,o.Z)({},r[n]),(0,i.Z)({},t,s)),r}))},T=function(){var n=(0,r.Z)(u().mark((function n(){var r,i,s,l;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return N(!0),r=(0,a.Z)((0,o.Z)({},k),{introduction:JSON.stringify(_),sub_heading:JSON.stringify(A)}),n.next=4,t.post("",r);case 4:i=n.sent,s=i.response,(l=i.error)?(N(!1),g.Am.error("".concat(l))):(N(!1),g.Am.success("".concat(s)),e.push("/dashboard/admin/blog"));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,d.jsx)(m.Z,{children:(0,d.jsxs)("main",{children:[(0,d.jsxs)("h1",{style:{fontSize:"25px",textAlign:"center",fontWeight:"bolder"},children:[" ","NEW BLOG"]}),(0,d.jsxs)("div",{className:"card p-4",children:[(0,d.jsx)("h1",{style:{fontSize:"20px",fontFamily:"roboto"},children:"TOPIC NAME"}),(0,d.jsx)("input",{placeholder:"Enter Topic name",onChange:D,name:"name"})]}),(0,d.jsxs)("div",{className:"card p-4",children:[(0,d.jsx)("h1",{style:{fontSize:"20px",fontFamily:"roboto"},children:"DESCRIPTION"}),(0,d.jsx)("input",{placeholder:"Describe your blog here",onChange:D,name:"description"})]}),(0,d.jsxs)("div",{className:"card p-4",children:[(0,d.jsx)("h1",{style:{fontSize:"20px",fontFamily:"Inter"},children:"Introduction"}),(0,d.jsx)("textarea",{placeholder:"Enter your introduction",onChange:function(e){return L("name",e.target.value)}}),(0,d.jsx)(h.Z,{maxImages:1,maxSizes:5242880,setFileUploadError:b,setImageUrl:y,optionalFunction:function(e){return L("imageurl",e[0])}})]}),(0,d.jsxs)("div",{className:"card p-4",children:[null===F||void 0===F?void 0:F.map((function(e,n){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{className:"h1",style:{fontSize:"20px",fontFamily:"Inter"},children:"Sub Heading"})," ",(0,d.jsx)("input",{placeholder:"Title",name:"title",onChange:function(e){return P(e,n,"title")}}),(0,d.jsx)("br",{}),(0,d.jsx)("textarea",{placeholder:"Enter text here for sub heading",name:"body",onChange:function(e){return P(e,n,"body")}}),(0,d.jsx)(h.Z,{maxImages:1,maxSizes:5242880,setFileUploadError:b,setImageUrl:y,optionalFunction:function(e){return P(e[0],n,"imageurl")}})]})})),(0,d.jsx)("br",{}),(0,d.jsx)("button",{className:"btn text-white",onClick:function(){I((function(){return l(F).concat([1])})),console.log(c,v),R((function(e){return l(e).concat([{title:"",body:"",imageurl:""}])}))},children:"Add Sub Heading"})]}),(0,d.jsxs)("div",{className:"card p-4",children:[(0,d.jsx)("h1",{style:{fontSize:"20px",fontFamily:"roboto"},children:"Conclusion"}),(0,d.jsx)("textarea",{name:"conclusion",onChange:D})]}),S?(0,d.jsx)("button",{className:"btn text-white py-2 px-3 my-3",disabled:!0,children:"POST ..."}):(0,d.jsx)("button",{className:"btn text-white py-2 px-3 my-3",onClick:T,children:"POST BLOG"})]})})}},8060:function(e,n,t){"use strict";var r=t(7568),i=t(6042),o=t(9396),a=t(4051),s=t.n(a),l=t(5893),c=t(7294),u=t(8901),d=t(923),p=t.n(d),m={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},h={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},f={display:"flex",minWidth:0,overflow:"hidden"},g={display:"block",width:"auto",height:"100%"},x={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},b={borderColor:"#2196f3"},j={borderColor:"#00e676"},v={borderColor:"#ff1744"};n.Z=function(e){var n=e.setFileUploadError,t=e.setImageUrl,a=e.maxImages,d=e.maxSizes,y=e.optionalFunction,w=void 0===y?null:y,S=(0,c.useState)(0),N=S[0],E=S[1],F=(0,c.useState)([]),I=F[0],Z=F[1],k=(0,u.uI)({accept:{"image/*":[".jpeg",".png"]},maxFiles:a,maxSize:d,onDropRejected:function(e){var t,r=null===(t=e[0])||void 0===t?void 0:t.errors[0].code;n(r),E(-1)},onDrop:function(e){Z(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));var n=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));_(n)}}),C=k.getRootProps,O=k.getInputProps,A=k.isFocused,R=k.isDragAccept,U=k.isDragReject,_=function(){var e=(0,r.Z)(s().mark((function e(n){var r,i,o,a,l,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(E(1),r=new(p())({publicKey:"public_G1mBGH4ynRy46gzsggJdCguDRZA=",privateKey:"private_Df2/XKDIEaIDztFzQ+tAJVmKAOI=",urlEndpoint:"https://ik.imagekit.io/padeusnha"}),i=[],o=0;o<n.length;o++)a=n[o],l=r.upload({file:a,fileName:a.name}),i.push(l);return e.prev=4,e.next=7,Promise.all(i);case 7:c=e.sent,0!=(u=c.map((function(e){return e.url}))).length&&u?(E(2),t(u),null!=w&&w(u)):E(-1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error uploading images:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n){return e.apply(this,arguments)}}(),z=I.map((function(e){return(0,l.jsx)("div",{style:h,children:(0,l.jsx)("div",{style:f,children:(0,l.jsx)("img",{src:e.preview,style:g,onLoad:function(){URL.revokeObjectURL(e.preview)}})})},e.name)}));(0,c.useEffect)((function(){return function(){return I.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[I]);var D=(0,c.useMemo)((function(){return(0,i.Z)({},x,A?b:{},R?j:{},U?v:{})}),[A,R,U]);return(0,l.jsxs)("section",{className:"container",children:[(0,l.jsxs)("div",(0,o.Z)((0,i.Z)({},C({style:D})),{children:[(0,l.jsx)("input",(0,i.Z)({},O())),(0,l.jsxs)("p",{className:"text-center",children:["Drag 'n' drop some package image here,",(0,l.jsx)("br",{})," or click to upload iamge"]}),(0,l.jsx)("br",{}),(0,l.jsxs)("p",{className:"btn text-white",children:["UPLOAD IMAGE",(0,l.jsx)("img",{width:"32",height:"32",src:"https://img.icons8.com/windows/32/FFFFFF/file-upload.png",alt:"file-upload"})]})]})),(0,l.jsx)("aside",{style:m,children:z}),-1==N?(0,l.jsxs)("em",{children:[(0,l.jsx)("img",{width:"30",height:"30",src:"https://img.icons8.com/sf-black-filled/64/FA5252/error.png",alt:"checked--v1"})," ","error; try again"]}):1==N?(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsxs)("span",{className:"d-flex",children:[(0,l.jsx)("div",{className:"loading-container mr-3",children:(0,l.jsx)("div",{className:"loader"})}),(0,l.jsx)("b",{children:"uploading image, please wait"})]})]}):2==N?(0,l.jsxs)("em",{children:[(0,l.jsx)("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-filled/50/90EE90/checked--v1.png",alt:"checked--v1"})," ","uploaded ",(0,l.jsx)("br",{})]}):null]})}}},function(e){e.O(0,[714,662,82,427,280,857,774,888,179],(function(){return n=3705,e(e.s=n);var n}));var n=e.O();_N_E=n}]);