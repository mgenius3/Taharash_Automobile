(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(4984)}])},4642:function(e,r,n){"use strict";var t=n(7568),s=n(1438),a=n(2951),o=n(4051),c=n.n(o),i=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,s.Z)(this,e),this.baseURL=r,this.token=n}return(0,a.Z)(e,[{key:"get",value:function(e){var r=this;return(0,t.Z)(c().mark((function n(){var t,s,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/serve"+r.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}});case 3:if((t=n.sent).ok){n.next=9;break}return n.next=7,t.json();case 7:throw s=n.sent,new Error(s.msg);case 9:return n.next=11,t.json();case 11:return a=n.sent,n.abrupt("return",{response:a.msg,error:null});case 15:return n.prev=15,n.t0=n.catch(0),n.abrupt("return",{response:null,error:n.t0.message});case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()}},{key:"post",value:function(e,r){var n=this;return(0,t.Z)(c().mark((function t(){var s,a,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/serve"+n.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)},body:JSON.stringify(r)});case 3:if((s=t.sent).ok){t.next=9;break}return t.next=7,s.json();case 7:throw a=t.sent,new Error(a.msg);case 9:return t.next=11,s.json();case 11:return o=t.sent,t.abrupt("return",{response:o.msg,error:null});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{response:null,error:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}},{key:"delete",value:function(e){var r=this;return(0,t.Z)(c().mark((function n(){var t,s,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/serve"+r.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}});case 3:if((t=n.sent).ok){n.next=9;break}return n.next=7,t.json();case 7:throw s=n.sent,new Error(s.msg);case 9:return n.next=11,t.json();case 11:return a=n.sent,n.abrupt("return",{response:a.msg,error:null});case 15:return n.prev=15,n.t0=n.catch(0),n.abrupt("return",{response:null,error:n.t0.message});case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()}}]),e}();r.Z=i},4984:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return g}});var t=n(7568),s=n(4924),a=n(6042),o=n(9396),c=n(4051),i=n.n(c),u=n(5893),l=n(7294),m=n(5063),d=n.n(m),p=n(7536),h=n(1163),f=n(2920),v=(n(993),n(1708)),x=n(4642);function g(){var e=new x.Z("/user"),r=(0,l.useState)({}),n=r[0],c=r[1],m=(0,l.useState)(!1),g=m[0],j=m[1],b=(0,h.useRouter)(),w=(0,p.cI)().handleSubmit,N=function(e){c((0,o.Z)((0,a.Z)({},n),(0,s.Z)({},e.target.name,e.target.value)))},k=function(){var r=(0,t.Z)(i().mark((function r(){var t,s,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return j(!0),r.next=3,e.post("/login",n);case 3:t=r.sent,s=t.response,a=t.error,s?(localStorage.setItem("token",s),j(!1),console.log("hello"),b.back()):(j(!1),f.Am.error(a));case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,u.jsx)(v.Z,{title:"Login",children:(0,u.jsxs)("div",{id:"page-content",children:[(0,u.jsx)("img",{src:"/images/tahicon.png",width:80,className:"mx-4 my-2 text-center"}),(0,u.jsx)("div",{className:"page section-header text-center",children:(0,u.jsx)("div",{className:"page-title",children:(0,u.jsx)("div",{className:"wrapper",children:(0,u.jsx)("h1",{className:"mx-2",children:"Login"})})})}),(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 main-col offset-md-3",children:(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsxs)("form",{method:"post",action:"#",id:"CustomerLoginForm",acceptCharset:"UTF-8",className:"contact-form",onSubmit:w(k),children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"CustomerEmail",children:"Email"}),(0,u.jsx)("input",{type:"email",name:"email",id:"CustomerEmail",autoCorrect:"off",autoCapitalize:"off",required:!0,onChange:N})]})}),(0,u.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"CustomerPassword",children:"Password"}),(0,u.jsx)("input",{type:"password",name:"password",placeholder:"",id:"CustomerPassword",required:!0,onChange:N})]})})]}),(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"text-center col-12 col-sm-12 col-md-12 col-lg-12",children:[g?(0,u.jsx)("input",{value:"loading...",className:"btn mb-3"}):(0,u.jsx)("input",{type:"submit",className:"btn mb-3",value:"Sign In"}),(0,u.jsxs)("p",{className:"mb-4",style:{color:"black",cursor:"pointer"},children:["New User ?"," ",(0,u.jsx)(d(),{href:"/register",id:"customer_register_link",children:(0,u.jsx)("b",{style:{color:"#6e0000"},children:"Create Account "})})]})]})})]})})})})})]})})}},993:function(){},1438:function(e,r,n){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}n.d(r,{Z:function(){return t}})},2951:function(e,r,n){"use strict";function t(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function s(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}n.d(r,{Z:function(){return s}})}},function(e){e.O(0,[82,160,715,5,536,708,774,888,179],(function(){return r=6429,e(e.s=r);var r}));var r=e.O();_N_E=r}]);