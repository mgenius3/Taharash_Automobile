(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{6939:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/automobile/[product]",function(){return r(5709)}])},9268:function(e,n,r){"use strict";var t=r(5893);r(7294);n.Z=function(){return(0,t.jsx)("div",{className:"loading-overlay",children:(0,t.jsx)("div",{className:"loading-spinner",children:(0,t.jsx)("div",{className:"spinner"})})})}},4642:function(e,n,r){"use strict";var t=r(7568),s=r(1438),a=r(2951),i=r(4051),o=r.n(i),c=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,s.Z)(this,e),this.baseURL=n,this.token=r}return(0,a.Z)(e,[{key:"get",value:function(e){var n=this;return(0,t.Z)(o().mark((function r(){var t,s,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("/serve"+n.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}});case 3:if((t=r.sent).ok){r.next=9;break}return r.next=7,t.json();case 7:throw s=r.sent,new Error(s.msg);case 9:return r.next=11,t.json();case 11:return a=r.sent,r.abrupt("return",{response:a.msg,error:null});case 15:return r.prev=15,r.t0=r.catch(0),r.abrupt("return",{response:null,error:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()}},{key:"post",value:function(e,n){var r=this;return(0,t.Z)(o().mark((function t(){var s,a,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/serve"+r.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},body:JSON.stringify(n)});case 3:if((s=t.sent).ok){t.next=9;break}return t.next=7,s.json();case 7:throw a=t.sent,new Error(a.msg);case 9:return t.next=11,s.json();case 11:return i=t.sent,t.abrupt("return",{response:i.msg,error:null});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{response:null,error:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}},{key:"delete",value:function(e){var n=this;return(0,t.Z)(o().mark((function r(){var t,s,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("/serve"+n.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}});case 3:if((t=r.sent).ok){r.next=9;break}return r.next=7,t.json();case 7:throw s=r.sent,new Error(s.msg);case 9:return r.next=11,t.json();case 11:return a=r.sent,r.abrupt("return",{response:a.msg,error:null});case 15:return r.prev=15,r.t0=r.catch(0),r.abrupt("return",{response:null,error:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()}}]),e}();n.Z=c},5985:function(e,n,r){"use strict";var t=r(5893),s=r(9704),a=r.n(s),i=r(1163),o=r(7294);n.Z=function(e){var n=e.children,r=(0,i.useRouter)();return(0,o.useEffect)((function(){var e=setTimeout((function(){var e=localStorage.getItem("token");try{a().verify(e,"taharish_automobile")}catch(n){console.log(n),r.push("/login")}}),0);return function(){return clearTimeout(e)}}),[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:n})})}},5709:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return A}});var t=r(7568),s=r(4051),a=r.n(s),i=r(5893),o=r(7294),c=r(1708),l=r(1163),u=r(4184),d=r.n(u),h=r(5446),p=r(8146),v=r(80),x=r(6792),m=r(1068),f=r(1485),j=r(9602),g=r(6611);const b=(0,j.Z)("h4");b.displayName="DivStyledAsH4";const k=(0,g.Z)("alert-heading",{Component:b}),N=(0,g.Z)("alert-link",{Component:v.Z}),w=o.forwardRef(((e,n)=>{const{bsPrefix:r,show:t=!0,closeLabel:s="Close alert",closeVariant:a,className:o,children:c,variant:l="primary",onClose:u,dismissible:v,transition:j=m.Z,...g}=(0,h.Ch)(e,{show:"onClose"}),b=(0,x.vE)(r,"alert"),k=(0,p.Z)((e=>{u&&u(!1,e)})),N=!0===j?m.Z:j,w=(0,i.jsxs)("div",{role:"alert",...N?void 0:g,ref:n,className:d()(o,b,l&&`${b}-${l}`,v&&`${b}-dismissible`),children:[v&&(0,i.jsx)(f.Z,{onClick:k,"aria-label":s,variant:a}),c]});return N?(0,i.jsx)(N,{unmountOnExit:!0,...g,ref:void 0,in:t,children:w}):t?w:null}));w.displayName="Alert";var y=Object.assign(w,{Link:N,Heading:k}),_=r(5985),E=r(4642),Z=r(2920),C=(r(993),r(9268));function A(){var e=(0,l.useRouter)().query.product,n=(0,o.useState)({}),r=n[0],s=n[1],u=(0,o.useState)(0),d=u[0],h=u[1],p=(0,o.useState)(!1),v=p[0],x=p[1],m=(0,o.useState)((function(){return localStorage.getItem("token")}))[0],f=new E.Z("/automobile",m);(0,o.useEffect)((function(){var n=function(){var n=(0,t.Z)(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.get("/".concat(e));case 2:(r=n.sent.response)&&s(r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var j=function(){var e=(0,t.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,f.get("/payment/automobile");case 3:(n=e.sent.response)?(void 0!==window&&window.location.replace("".concat(n)),x(!1)):(x(!1),Z.Am.error("unable to make payment"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(_.Z,{children:(0,i.jsx)(c.Z,{title:"Automobile",children:r?(0,i.jsx)("div",{className:"container",id:"shop",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"auto_head",children:[(0,i.jsx)("h1",{className:"auto_name",children:null===r||void 0===r?void 0:r.title}),(0,i.jsxs)("p",{className:"auto_price",children:["#",null===r||void 0===r?void 0:r.price]})]}),(0,i.jsxs)("div",{className:"auto_img",children:[(0,i.jsx)("span",{className:"auto_pics_main",children:"string"===typeof r.files?(0,i.jsx)("img",{className:"d-block",src:JSON.parse(null===r||void 0===r?void 0:r.files)[d],alt:"Image One",style:{width:"100%"}}):null}),(0,i.jsx)("span",{className:"auto_pics_sub",children:"string"===typeof r.files?JSON.parse(null===r||void 0===r?void 0:r.files).map((function(e,n){return(0,i.jsx)("img",{className:"d-block",src:e,alt:"Image One",style:{width:"100%"},onClick:function(){return h(n)}},n)})):null})]}),(0,i.jsxs)("div",{className:"auto_description",children:[(0,i.jsx)("h3",{children:"Description"}),(0,i.jsx)("p",{children:null===r||void 0===r?void 0:r.description})]}),(0,i.jsxs)("div",{className:"auto_seller_details",children:[(0,i.jsx)("div",{className:"d1",children:(0,i.jsxs)("table",{className:"table table-striped",children:[(0,i.jsx)("thead",{className:"thead-dark",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"MODEL"}),(0,i.jsx)("th",{children:"YEAR"}),(0,i.jsx)("th",{children:"CATEGORY"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:null===r||void 0===r?void 0:r.model}),(0,i.jsx)("td",{children:null===r||void 0===r?void 0:r.year_of_manufacture}),(0,i.jsx)("td",{children:null===r||void 0===r?void 0:r.category})]})}),(0,i.jsx)("thead",{className:"thead-dark",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"CONDITION"}),(0,i.jsx)("th",{children:"MATERIAL"}),(0,i.jsx)("th",{children:"DATE UPLOADED"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:null===r||void 0===r?void 0:r.conditions}),(0,i.jsx)("td",{children:null===r||void 0===r?void 0:r.material}),(0,i.jsx)("td",{children:new Date(null===r||void 0===r?void 0:r.created_at).toDateString()})]})})]})}),v?(0,i.jsx)(C.Z,{}):(0,i.jsx)("div",{className:"d2",children:(0,i.jsx)("p",{onClick:j,children:"MAKE PAYMENT"})})]})]})}):(0,i.jsx)(y,{variant:"danger",style:{margin:"200px 100px"},children:"loading..."},"danger")})})}}},function(e){e.O(0,[714,82,160,715,917,427,708,774,888,179],(function(){return n=6939,e(e.s=n);var n}));var n=e.O();_N_E=n}]);